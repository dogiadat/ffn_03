<div class="show-league-seasons">
  <h1 class="center"><%= t ".league_seasons_management" %></h1>
  <hr>
  <div class="search-form form-inline">
    <%= search_form_for [:admin, @search] do |f| %>

        <div class="form-group">
          <%= f.text_field :league_name_cont, class: "form-control",
            placeholder: t(".league_search") %>
        </div>

        <div class="form-group season">
          <%= f.select :year_eq, @league_seasons.pluck(:year, :id),
            {include_blank: t(".all_season")}, class: "form-control",
            placeholder: t(".season_search") %>
        </div>

        <div class="form-group country">
          <%= f.select :league_country_id_eq, @countries,
            {include_blank: t(".select_country")}, class: "form-control",
            placeholder: t(".country_search") %>
        </div>

        <div class="form-group">
          <%= f.button class: "btn btn-primary no-radius" do %>
            <span class="glyphicon glyphicon-search"></span>
          <% end %>
        </div>
      <% end %>
  </div>

  <div class="league-seasons">
    <table class="table table-striped table-bordered">
      <thead>
        <th class="index center">#</th>
        <th class="name"><%= t ".seasons" %></th>
        <th class="league"><%= t ".league" %></th>
        <th class="country"><%= t ".country" %></th>
        <th class="team"><%= t ".team" %></th>
        <th class="action"><%= t ".action" %></th>
      </thead>
      <tbody>
        <% @league_seasons.each_with_index do |league_season, index| %>
          <tr>
            <td class="center">
              <%= Settings.league_seasons.per_page * (@league_seasons.current_page - 1) + 1 + index %>
            </td>
            <td class="name">
              <%= link_to league_season.year, [:admin, league_season] %>
            </td>
            <td class="league"><%= league_season.name %></td>
            <td class="country center">
              <%= image_tag league_season.league.country.flag.url,
                size: Settings.country.size_tiny %>
            </td>
            <td class="team center">
              <%= league_season.season_teams.count %>
            </td>
            <td class="action center">
              <%= link_to edit_admin_league_league_season_path(league_season.league, league_season),
                title: t(".edit_league_season") do %>
                <span class="glyphicon glyphicon-edit"></span>
              <% end %>
              <%= link_to "", admin_league_season_path(league_season), method: :delete,
                class: "glyphicon glyphicon-trash", title: t(".delete"),
                data: {confirm: t(".confirm")} %>
              <%= link_to "", new_admin_league_season_match_path(league_season),
                class: "glyphicon glyphicon-plus", title: t(".new_match") %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <%= paginate @league_seasons %>
    <% if @league_seasons.blank? %>
      <strong><%= t ".no_league_season" %></strong>
    <% end %>
  </div>
</div>
